Given javascript (local void function):
  function getParentModuleName() {
    const caller = stack.shift()

    let path2 = caller.split(' ').pop()
    path2 = path2.replace(/^\(/, '')

    return path
  }

Do:
  3j
  Vj
  :'<,'>VjsExtractLocalFunction\<CR>
  thing\<CR>

Expect:
  function getParentModuleName() {
    const caller = stack.shift()

    function thing() {
      let path2 = caller.split(' ').pop()
      path2 = path2.replace(/^\(/, '')
    }

    thing()

    return path
  }

Given javascript (local void function without blank line):
  function getParentModuleName() {
    const caller = stack.shift()

    let path2 = caller.split(' ').pop()
    path2 = path2.replace(/^\(/, '')
    return path
  }

Do:
  3j
  Vj
  :'<,'>VjsExtractLocalFunction\<CR>
  thing\<CR>

Expect:
  function getParentModuleName() {
    const caller = stack.shift()

    function thing() {
      let path2 = caller.split(' ').pop()
      path2 = path2.replace(/^\(/, '')
    }

    thing()
    return path
  }

Given javascript (local void function with extra indent):
  function getParentModuleName() {
    const caller = stack.shift()

    function stuff() {
      let path2 = caller.split(' ').pop()
      path2 = path2.replace(/^\(/, '')
      return path
    }
  }

Do:
  4j
  Vj
  :'<,'>VjsExtractLocalFunction\<CR>
  thing\<CR>

Expect:
  function getParentModuleName() {
    const caller = stack.shift()

    function stuff() {
      function thing() {
        let path2 = caller.split(' ').pop()
        path2 = path2.replace(/^\(/, '')
      }

      thing()
      return path
    }
  }

Given javascript (async local void function):
  async function getParentModuleName() {
    const caller = stack.shift()

    let path2 = await caller.split(' ').pop()
    path2 = path2.replace(/^\(/, '')

    return path
  }

Do:
  3j
  Vj
  :'<,'>VjsExtractLocalFunction\<CR>
  thing\<CR>

Expect:
  async function getParentModuleName() {
    const caller = stack.shift()

    async function thing() {
      let path2 = await caller.split(' ').pop()
      path2 = path2.replace(/^\(/, '')
    }

    await thing()

    return path
  }

Given javascript (local async function with return value):
  async function getParentModuleName() {
    const caller = stack.shift()

    let path = await caller.split(' ').pop()
    path = path.replace(/^\(/, '')

    return path
  }

Do:
  3j
  Vj
  :'<,'>VjsExtractLocalFunction\<CR>
  thing\<CR>

Expect:
  async function getParentModuleName() {
    const caller = stack.shift()

    async function thing() {
      let path = await caller.split(' ').pop()
      path = path.replace(/^\(/, '')
      return path
    }

    let path = await thing()

    return path
  }

Given javascript (local function with multiple return values):
  async function getParentModuleName() {
    const caller = stack.shift()

    let path = caller.split(' ').pop()
    const foo = 2
    path = path.replace(/^\(/, '')

    return path + foo
  }

Do:
  3j
  Vjj
  :'<,'>VjsExtractLocalFunction\<CR>
  thing\<CR>

Expect:
  async function getParentModuleName() {
    const caller = stack.shift()

    function thing() {
      let path = caller.split(' ').pop()
      const foo = 2
      path = path.replace(/^\(/, '')
      return {path, foo}
    }

    let {path, foo} = thing()

    return path + foo
  }


" Execute:
"   call LogAllMessages()
